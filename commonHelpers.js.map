{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = \"https://pixabay.com/api/\";\n\n\nexport const fetchResearch = (params) => {\n    return fetch(`${BASE_URL}?${params}`)\n    .then(res => {\n        if (!res.ok) {\n            throw new Error(res.status)\n        }\n        return res.json();\n    })\n    .catch(error => {\n        console.log(error);\n    })\n};","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport const gallery = document.querySelector(\".gallery\");\nlet lightbox;\n\n\nexport const renderGallery = (arr) => {\n  gallery.innerHTML = markupGallery(arr);\n  if (lightbox) {\n  lightbox.refresh();\n  } else {\n  lightbox = new SimpleLightbox('.gallery a', { overlay: true, opasoverlayOpacity: 0.8, showCounter:false, captionsData: \"alt\" });\n  }\n}\n\n\nconst markupGallery = (arr) =>  {\n    return arr.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => {\n        return `<li class=\"list-item\">\n        <a class=\"list-link\" href=\"${largeImageURL}\">\n          <img\n            src=\"${webformatURL}\"\n            alt=\"${tags}\"\n            class=\"list-img\"\n            width=\"360\"\n          />\n          <ul class=\"img-list\">\n            <li class=\"img-titles\">\n              <h3>Likes</h3>\n              <p>${likes}</p>\n            </li>\n            <li class=\"img-titles\">\n              <h3>Views</h3>\n              <p>${views}</p>\n            </li>\n            <li class=\"img-titles\">\n              <h3>Comments</h3>\n              <p>${comments}</p>\n            </li>\n            <li class=\"img-titles\">\n              <h3>Downloads</h3>\n              <p>${downloads}</p>\n            </li>\n          </ul>\n        </a>\n      </li>`\n}).join(\"\");\n}\n\n\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { fetchResearch } from \"./js/pixabay-api\";\nimport {renderGallery, gallery} from \"./js/render-functions\";\n\nconst form = document.querySelector(\".form\");\n\n\n\nform.addEventListener(\"submit\", hendleSearch);\n\nfunction hendleSearch(event) {\n    event.preventDefault();\n      gallery.innerHTML = `<span class=\"loader\"></span>`;\n    \n\n    const q = event.target.elements.search.value.trim();\n\n    if (!q) {\n        iziToast.show({\n        position: \"topRight\",\n        color: \"#EF4040\",\n        messageColor: \"#FAFAFB\",\n        message: \"Please, please fill in search field\"\n    });\n    gallery.innerHTML = \"\";\n    return  \n    }\n\n    const params = new URLSearchParams({\n        key: \"44202193-f248306df09f9efdc8529d868\",\n        q,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\"\n    })\n\n    fetchResearch(params).then(data => {\n\n        if (data.hits.length < 1) {\n            iziToast.show({\n                position: \"topRight\",\n                color: \"#EF4040\",\n                messageColor: \"#FAFAFB\",\n                message: \"Sorry, there are no images matching your search query. Please try again!\"\n            });\n            gallery.innerHTML = \"\";\n            return\n        }\n        renderGallery(data.hits);\n    })\n    .catch(error => console.log(error));\n\n    event.target.reset();\n}\n\n"],"names":["BASE_URL","fetchResearch","params","res","error","gallery","lightbox","renderGallery","arr","markupGallery","SimpleLightbox","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","hendleSearch","event","q","iziToast","data"],"mappings":"6vBAAA,MAAMA,EAAW,2BAGJC,EAAiBC,GACnB,MAAM,GAAGF,CAAQ,IAAIE,CAAM,EAAE,EACnC,KAAKC,GAAO,CACT,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE9B,OAAOA,EAAI,MACnB,CAAK,EACA,MAAMC,GAAS,CACZ,QAAQ,IAAIA,CAAK,CACzB,CAAK,ECVQC,EAAU,SAAS,cAAc,UAAU,EACxD,IAAIC,EAGG,MAAMC,EAAiBC,GAAQ,CACpCH,EAAQ,UAAYI,EAAcD,CAAG,EACjCF,EACJA,EAAS,QAAO,EAEhBA,EAAW,IAAII,EAAe,aAAc,CAAE,QAAS,GAAM,mBAAoB,GAAK,YAAY,GAAO,aAAc,KAAO,CAAA,CAEhI,EAGMD,EAAiBD,GACZA,EAAI,IAAI,CAAC,CAAC,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC1E;AAAA,qCACsBL,CAAa;AAAA;AAAA,mBAE/BD,CAAY;AAAA,mBACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAOJC,CAAK;AAAA;AAAA;AAAA;AAAA,mBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,mBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,YAK3B,EAAE,KAAK,EAAE,ECzCJC,EAAO,SAAS,cAAc,OAAO,EAI3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAClBf,EAAQ,UAAY,+BAGtB,MAAMgB,EAAID,EAAM,OAAO,SAAS,OAAO,MAAM,OAE7C,GAAI,CAACC,EAAG,CACJC,EAAS,KAAK,CACd,SAAU,WACV,MAAO,UACP,aAAc,UACd,QAAS,qCACjB,CAAK,EACDjB,EAAQ,UAAY,GACpB,MACC,CAED,MAAMH,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAAmB,EACA,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAEDpB,EAAcC,CAAM,EAAE,KAAKqB,GAAQ,CAE/B,GAAIA,EAAK,KAAK,OAAS,EAAG,CACtBD,EAAS,KAAK,CACV,SAAU,WACV,MAAO,UACP,aAAc,UACd,QAAS,0EACzB,CAAa,EACDjB,EAAQ,UAAY,GACpB,MACH,CACDE,EAAcgB,EAAK,IAAI,CAC/B,CAAK,EACA,MAAMnB,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAElCgB,EAAM,OAAO,OACjB"}